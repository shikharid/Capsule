<!DOCTYPE html>
<!-- saved from url=(0085)http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview -->
<html lang="en" style="" class="pointer-events cm-s-stash-default"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Pull Request #29: S US-238 - BlueHornet Stash</title><script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\u0022(?:(?:/s/.*?/_)?/download)\u0022";
WRM._unparsedData["com.atlassian.stash.config-wrm-data:attachment.upload.max.size.data"]="{\u0022value\u0022:\u002210485760\u0022,\u0022key\u0022:\u0022attachment.upload.max.size\u0022,\u0022type\u0022:\u0022NUMBER\u0022}";
WRM._unparsedData["com.atlassian.stash.feature-wrm-data:attachments.data"]="true";
WRM._unparsedData["com.atlassian.stash.feature-wrm-data:source.codemirror.data"]="true";
WRM._unparsedData["com.atlassian.stash.stash-web-plugin:determine-language.syntax-highlighters"]="{\u0022text/x-ruby\u0022:{\u0022x\u0022:[\u0022ruby\u0022]},\u0022text/x-python\u0022:{\u0022x\u0022:[\u0022python\u0022]},\u0022text/javascript\u0022:{\u0022x\u0022:[\u0022node\u0022]},\u0022text/x-sh\u0022:{\u0022e\u0022:[\u0022makefile\u0022,\u0022Makefile\u0022],\u0022x\u0022:[\u0022sh\u0022,\u0022bash\u0022,\u0022zsh\u0022]},\u0022text/x-perl\u0022:{\u0022x\u0022:[\u0022perl\u0022]},\u0022text/velocity\u0022:{\u0022e\u0022:[\u0022vm\u0022]},\u0022text/x-erlang\u0022:{\u0022x\u0022:[\u0022escript\u0022]}}";
</script>
<link type="text/css" rel="stylesheet" href="./Pull Request #29_ S US-238 - BlueHornet Stash_files/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="./Pull Request #29_ S US-238 - BlueHornet Stash_files/batch(1).css" media="all">
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/b6ca624f93551b5003f5526ed9c0fb25-CDN/en_US/8f30c2a/2779/e557c0774dfc9690f896aa03f3da1ba8/_/download/contextbatch/css/stash.page.pullRequest.view,stash.layout.pullRequest,internal.unified-diff-view,internal.side-by-side-diff-view,stash.layout.repository,stash.layout.entity,stash.layout.base,stash.feature.files.fileHandlers,atl.general/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/3cb882f3c9182249934e03eac0cef0de-CDN/en_US/8f30c2a/2779/e557c0774dfc9690f896aa03f3da1ba8/_/download/contextbatch/css/stash.page.pullRequest.view,stash.layout.pullRequest,internal.unified-diff-view,internal.side-by-side-diff-view,stash.layout.repository,stash.layout.entity,stash.layout.base,stash.feature.files.fileHandlers,atl.general/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<script type="text/javascript" src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/batch.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/batch(2).js"></script>
<meta name="application-name" content="Stash"><link rel="shortcut icon" type="image/x-icon" href="http://git.bluehornet.com/s/en_US/8f30c2a/2779/1.0/_/download/resources/com.atlassian.stash.stash-web-plugin:favicon/favicon.ico"><style type="text/css" id="vakata-stylesheet">#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } #vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } </style><style type="text/css" id="jstree-stylesheet">.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } #vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }.jstree .jstree-real-checkbox { display:none; } .jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }.jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }</style></head><body class="aui-page-sidebar stash-theme aui-sidebar-collapsed" data-aui-version="5.8.14" style=""><ul id="assistive-skip-links" class="assistive"><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#aui-sidebar-content">Skip to sidebar navigation</a></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#aui-page-panel-content-body">Skip to content</a></li></ul><div id="page"><!-- start #header --><header id="header" role="banner"><section class="notifications"></section><nav class="aui-header aui-dropdown2-trigger-group" role="navigation" data-aui-responsive="true"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger="" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" resolved="" aria-expanded="false"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default aui-layer" role="menu" aria-hidden="true" resolved=""><div class="aui-dropdown2-section"><ul class="nav-links"><li class="nav-link"><a href="https://issues.bluehornet.com/" class="aui-dropdown2-radio " title="https://issues.bluehornet.com/" aria-checked="false" tabindex="0" resolved=""><span class="nav-link-label">BlueHornet JIRA</span></a></li><li class="nav-link"><a href="https://wiki.bluehornet.com/" class="aui-dropdown2-radio " title="https://wiki.bluehornet.com/" aria-checked="false" tabindex="0" resolved=""><span class="nav-link-label">BlueHornet Confluence</span></a></li><li class="nav-link nav-link-local"><a href="http://git.bluehornet.com/" class="aui-dropdown2-radio aui-dropdown2-checked" title="http://git.bluehornet.com/" aria-checked="true" tabindex="0" resolved=""><span class="nav-link-label">BlueHornet Stash</span></a></li><li class="nav-link"><a href="http://ci.bluehornetdev.com/" class="aui-dropdown2-radio " title="http://ci.bluehornetdev.com/" aria-checked="false" tabindex="0" resolved=""><span class="nav-link-label">Atlassian Bamboo</span></a></li><li class="nav-link"><a href="https://delta.digitalriver.com/" class="aui-dropdown2-radio " title="https://delta.digitalriver.com" aria-checked="false" tabindex="0" resolved=""><span class="nav-link-label">Bluehornet Delta</span></a></li><li class="nav-link"><a href="https://srms.digitialriver.com/" class="aui-dropdown2-radio " title="https://srms.digitialriver.com" aria-checked="false" tabindex="0" resolved=""><span class="nav-link-label">Bluehornet SRMS</span></a></li></ul></div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.environment = {isUserAdmin: false, isAppSuggestionAvailable: false};</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-stash"><a href="http://git.bluehornet.com/" class="stash"><span class="aui-header-logo-device">Stash</span></a></h1><meta name="stp-license-product-name" content="Stash"> <meta name="stp-license-days-to-expiry" content="229"> <meta name="stp-license-is-admin" content="false"><ul class="aui-nav" resolved="" style="width: auto;"><li class=" projects-link"><a href="http://git.bluehornet.com/projects" class="projects-link" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:projects-menu">Projects</a></li><li class="selected recent-repositories"><a id="repositories-menu-trigger" class=" aui-dropdown2-trigger" aria-controls="com.atlassian.stash.stash-server-web-fragments-repositories-menu" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger="" resolved="" aria-expanded="false" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#">Repositories<span class="icon aui-icon-dropdown"></span></a><div id="com.atlassian.stash.stash-server-web-fragments-repositories-menu" class="aui-dropdown2 aui-style-default aui-layer recent-repositories-menu" role="menu" aria-hidden="true" resolved=""><div role="application"><div class="aui-dropdown2-section recent-repositories-section"><strong role="presentation" class="aui-dropdown2-heading">Recently viewed</strong><ul class="aui-list-truncate" role="presentation"><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="amazon-sample-kinesis" data-repo-id="28" href="http://git.bluehornet.com/projects/CS/repos/amazon-sample-kinesis/browse" title="Go to repository &quot;amazon-sample-kinesis&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">amazon-sample-kinesis</span></span></a></li><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="apis" data-repo-id="15" href="http://git.bluehornet.com/projects/CS/repos/apis/browse" title="Go to repository &quot;apis&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">apis</span></span></a></li><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="ingestapis" data-repo-id="14" href="http://git.bluehornet.com/projects/CS/repos/ingestapis/browse" title="Go to repository &quot;ingestapis&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">ingestapis</span></span></a></li><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="kinesis-consumers" data-repo-id="25" href="http://git.bluehornet.com/projects/CS/repos/kinesis-consumers/browse" title="Go to repository &quot;kinesis-consumers&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">kinesis-consumers</span></span></a></li><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="segmentexecutor" data-repo-id="13" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/browse" title="Go to repository &quot;segmentexecutor&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">segmentexecutor</span></span></a></li><li class="repository-item repository-menu-item"><a data-proj-key="CS" data-repo-slug="webapp" data-repo-id="12" href="http://git.bluehornet.com/projects/CS/repos/webapp/browse" title="Go to repository &quot;webapp&quot; in project &quot;Commerce Segment&quot;"><span class="aui-avatar aui-avatar-xsmall aui-avatar-project"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar.png" alt="Commerce Segment"></span></span><span class="project-and-repository"><span class="project-name">Commerce Segment</span><span class="separator">/</span><span class="name">webapp</span></span></a></li></ul></div><div class="aui-dropdown2-section public-repo-list-link-section"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a href="http://git.bluehornet.com/repos?visibility=public" title="View all publicly accessible repositories in Stash" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:public-repo-list-link">View all public repositories</a></li></ul></div></div></div></li></ul></div><div class="aui-header-secondary"><ul class="aui-nav" resolved=""><li><form class="aui-quicksearch"><div class="repository-search-trigger"><label class="assistive" for="repository-search">Find a repository...</label><input id="repository-search" type="text" autocomplete="off" placeholder="Find a repository..."><div class="spinner"></div></div></form></li><li class=" help-link" title="Help"><a class=" aui-dropdown2-trigger aui-dropdown2-trigger-arrowless" aria-controls="com.atlassian.stash.stash-server-web-fragments-help-menu" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger="" resolved="" aria-expanded="false" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span><span class="icon aui-icon-dropdown"></span></a><div id="com.atlassian.stash.stash-server-web-fragments-help-menu" class="aui-dropdown2 aui-style-default aui-layer" role="menu" aria-hidden="true" resolved=""><div role="application"><div class="aui-dropdown2-section help-items-section"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a href="http://docs.atlassian.com/stash/docs-0311/Stash+Documentation+Home" title="Go to the online documentation for Stash" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:general-help">Online help</a></li><li role="presentation"><a href="https://www.atlassian.com/git?utm_source=stash&amp;utm_medium=in-app-help&amp;utm_campaign=learn-git" title="Learn about Git commands &amp; workflows" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:learn-git">Learn Git</a></li><li role="presentation"><a href="http://git.bluehornet.com/getting-started" class="getting-started-page-link" title="Overview of Stash features" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:getting-started-page-help-link">Welcome to Stash</a></li><li role="presentation"><a href="http://git.bluehornet.com/#" class="keyboard-shortcut-link" title="Discover keyboard shortcuts in Stash" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:keyboard-shortcuts-help-link">Keyboard shortcuts</a></li></ul></div></div></div></li><li class="" title="View your unapproved pull requests"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#inbox" id="inbox-pull-requests" title="View your unapproved pull requests (Type &#39;g&#39; then &#39;i&#39;)" data-web-item-key="com.atlassian.stash.plugin.stash-inbox-plugin:global-pr-inbox-menu-item" data-countloaded="true"><span class="aui-icon aui-icon-small aui-iconfont-workbox-empty"></span></a></li><li class="user-dropdown"><a class=" aui-dropdown2-trigger user-dropdown-trigger aui-dropdown2-trigger-arrowless" aria-controls="user-dropdown-menu" aria-haspopup="true" role="button" title="Logged in as Shikhar (kickdrum-shikhar)" data-container=".aui-header-secondary" tabindex="0" data-aui-trigger="" resolved="" aria-expanded="false" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#"><span id="current-user" class="aui-avatar aui-avatar-small" data-emailaddress="shikhar@kickdrumtech.com" data-username="kickdrum-shikhar" data-avatarurl-small="http://www.gravatar.com/avatar/60e1ed38f862fcb00091cc3a8f5ca70b.jpg?s=48&amp;d=mm"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b.jpg" alt="Logged in as Shikhar (kickdrum-shikhar)"></span></span><span class="icon aui-icon-dropdown"></span></a><div id="user-dropdown-menu" class="aui-dropdown2 aui-style-default aui-layer" role="menu" aria-hidden="true" resolved=""><div role="application"><div class="aui-dropdown2-section user-settings-section"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a href="http://git.bluehornet.com/profile" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:profile-menu-item">View profile</a></li><li role="presentation"><a href="http://git.bluehornet.com/account" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:account-menu-item">Manage account</a></li><li role="presentation"><a href="http://git.bluehornet.com/plugins/servlet/upm/requests?source=header_user" id="upm-requests-link" data-web-item-key="com.atlassian.upm.atlassian-universal-plugin-manager-plugin:stash-upm-requests-menu">Atlassian Marketplace</a></li></ul></div><div class="aui-dropdown2-section user-logout-section"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a href="http://git.bluehornet.com/j_stash_security_logout" class="logout-link" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:logout-menu-item">Log out</a></li></ul></div></div></div></li></ul></div></div> <!-- End .aui-header-inner --></nav> <!-- End .aui-header --></header><!-- End #header --><!-- Start #content --><section id="content" role="main" tabindex="-1" data-timezone="420" data-reposlug="segmentexecutor" data-projectkey="CS" data-pullrequestid="29" data-reponame="segmentexecutor" data-projectname="Commerce Segment" data-pullrequestversion="2"><section class="notifications"></section><div id="aui-sidebar-content" class="aui-sidebar " tabindex="-1" aria-expanded="false"><div class="aui-sidebar-wrapper aui-is-docked" style="height: 637px;"><div class="aui-sidebar-body"><script>require("widget/sidebar").preload();</script><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-image"><a href="http://git.bluehornet.com/projects/CS"><span class="aui-avatar aui-avatar-large aui-avatar-project" data-tooltip="Commerce Segment / segmentexecutor"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(1).png" alt="Commerce Segment"></span></span></a></div><!-- .aui-page-header-image --><div class="aui-page-header-main entity-item"><ol class="aui-nav aui-nav-breadcrumbs" resolved=""><li><a href="http://git.bluehornet.com/projects/CS" title="Commerce Segment">Commerce Segment</a></li></ol><h1><span class="entity-name" title="segmentexecutor">segmentexecutor</span></h1><div></div></div><!-- .aui-page-header-main --></div><!-- .aui-page-header-inner --></header><!-- .aui-page-header --><nav class="aui-navgroup aui-navgroup-vertical" role="navigation"><div class="aui-navgroup-inner"><div class="aui-sidebar-group aui-sidebar-group-actions aui-alignment-target" aria-controls="sidebar-submenu0" data-aui-trigger="" resolved="" aria-expanded="false" aria-haspopup="true"><div class="aui-nav-heading"><strong>Actions</strong></div><ul class="aui-nav" resolved=""><li class=" clone-repo"><a href="http://kickdrum-shikhar@git.bluehornet.com/scm/cs/segmentexecutor.git" id="clone-repo-button" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:repository-clone" class="aui-nav-item" title="Clone this repository"><span class="aui-icon icon-clone"></span><span class="aui-nav-item-label">Clone</span></a></li><li class=" create-branch"><a href="http://git.bluehornet.com/plugins/servlet/create-branch" data-web-item-key="com.atlassian.stash.stash-branch-utils:create-branch-repository-action" class="aui-nav-item"><span class="aui-icon icon-create-branch"></span><span class="aui-nav-item-label">Create branch</span></a></li><li class=" create-pull-request"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests?create" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:repository-pull-request" class="aui-nav-item" title="Create a new pull request"><span class="aui-icon icon-create-pull-request"></span><span class="aui-nav-item-label">Create pull request</span></a></li><li class=" fork-repo"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor?fork" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:repository-fork" class="aui-nav-item" title="Fork this repository"><span class="aui-icon icon-fork"></span><span class="aui-nav-item-label">Fork</span></a></li></ul></div><div class="hidden"><div id="clone-repo-dialog-content"><div class="clone-url ssh-clone-url-default"><div class="aui-buttons"><button id="ssh-clone-url" class="aui-button repository-protocol" data-module-key="ssh-clone-url-default" data-clone-url="ssh://git@git.bluehornet.com/cs/segmentexecutor.git" autocomplete="off" aria-disabled="true" disabled="disabled">SSH</button><input type="text" class="text quick-copy-text stash-text" readonly="readonly" spellcheck="false" value=""></div><p><a target="_blank" href="https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-clone?utm_source=stash&amp;utm_medium=in-app-help&amp;utm_campaign=learn-git-clone">Learn more about cloning repositories</a></p></div></div></div><div class="aui-sidebar-group aui-sidebar-group-tier-one sidebar-navigation"><div class="aui-nav-heading"><strong>Navigation</strong></div><ul class="aui-nav" resolved=""><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/browse" id="repository-nav-files" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:stash.repository.nav.files" class="aui-nav-item"><span class="aui-icon icon-source"></span><span class="aui-nav-item-label">Source</span></a></li><li class=" commits-nav"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/commits" id="repository-nav-commits" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:stash.repository.nav.commits" class="aui-nav-item"><span class="aui-icon icon-commits"></span><span class="aui-nav-item-label">Commits</span></a></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/branches" id="repository-nav-branches" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:stash.repository.nav.branches" class="aui-nav-item"><span class="aui-icon icon-branches"></span><span class="aui-nav-item-label">Branches</span></a></li><li><a href="http://git.bluehornet.com/plugins/servlet/network/CS/segmentexecutor" data-web-item-key="com.plugin.commitgraph.commitgraph:network-plugin-tab" class="aui-nav-item"><span class="aui-icon aui-icon icon-commit-graph"></span><span class="aui-nav-item-label">Network</span></a></li><li class="aui-nav-selected"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests" id="repository-nav-pull-requests" data-web-item-key="com.atlassian.stash.stash-server-web-fragments:stash.repository.nav.pull-requests" class="aui-nav-item"><span class="aui-icon icon-pull-requests"></span> <span class="aui-badge" title="There are 1 open pull requests">1</span><span class="aui-nav-item-label">Pull requests</span></a></li></ul></div></div></nav></div><div class="aui-sidebar-footer"><a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#"><span class="aui-icon aui-icon-small"></span></a></div></div></div><div class="aui-page-panel content-body" id="aui-page-panel-content-body" tabindex="-1"><div class="aui-page-panel-inner"><section class="aui-page-panel-content"><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h2 class="page-panel-content-header">Pull request</h2></div><!-- .aui-page-header-main --></div><!-- .aui-page-header-inner --></header><!-- .aui-page-header --><header class="pull-request-metadata"><div class="pull-request-metadata-group"><div class="pull-request-metadata-primary"><div class="pull-request-id-and-state"><span class="pull-request-id">#29</span><span class="aui-lozenge aui-lozenge-complete open pull-request-state-lozenge" title="This pull request is in progress.">OPEN</span></div><div class="pull-request-branches"><span class="aui-lozenge source-branch ref-lozenge monospace-lozenge" data-ref-tooltip="s_US-238"><span class="ref branch"><span class="aui-icon aui-icon-small aui-iconfont-devtools-branch-small"></span><span class="name" aria-label="source branch: s_US-238">s_US-238</span></span></span><span class="aui-icon aui-icon-small aui-iconfont-devtools-arrow-right"></span><span class="aui-lozenge target-branch ref-lozenge monospace-lozenge" data-ref-tooltip="develop_us"><span class="ref branch"><span class="aui-icon aui-icon-small aui-iconfont-devtools-branch-small"></span><span class="name" aria-label="target branch: develop_us">develop_us</span></span></span></div><h3 class="title">S US-238</h3></div><div class="pull-request-metadata-secondary"><div class="aui-toolbar2 pull-request-toolbar" role="toolbar"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-secondary"><div class="aui-buttons"><div class="spinner"></div><button class="aui-button aui-button-primary merge-pull-request" title="Merge changes" autocomplete="off">Merge</button><button class="aui-button decline-pull-request" title="Changes will not be automatically merged" autocomplete="off">Decline</button><button class="aui-button edit-pull-request" title="Edit title, description or reviewers" autocomplete="off">Edit</button></div></div></div></div><div class="reviewers" data-overflow-menu-id="overflow-reviewers"><span class="reviewers-label"><strong>1</strong> Reviewer</span><span class="aui-avatar aui-avatar-small aui-avatar-badged user-avatar badge-hidden avatar-dimmed avatar-tooltip participant-item" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(2).png" alt="Arpit Jain" title="Arpit Jain"></span><span class="badge approved">✓</span></span></div></div></div></header><div class="aui-tabs horizontal-tabs aui-tabs-disabled"><ul class="tabs-menu"><li class="menu-item active-tab" data-module-key="stash.pull-request.nav.overview" title="Switch to the Overview tab (type &#39;1&#39;)"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview"><strong>Overview</strong></a></li><li class="menu-item" data-module-key="stash.pull-request.nav.diff" title="Switch to the Diff tab (type &#39;2&#39;)"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff"><strong>Diff</strong></a></li><li class="menu-item" data-module-key="stash.pull-request.nav.commits" title="Switch to the Commits tab (type &#39;3&#39;)"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/commits"><strong>Commits</strong></a></li></ul><div class="tabs-pane active-pane pull-request-content"><div class="aui-group"><div class="aui-item"><h3>Details</h3><div class="aui-group details"><div class="aui-item author-avatar-item"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span></div><div class="aui-item"><p><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="author" title="Shikhar">Shikhar</a> created a pull request<time title="01 April 2016 03:39 AM" datetime="2016-04-01T03:39:13-0700" class="creation-date">2 days ago</time></p><div class="description markup"><ul>
  <li>[#<a class="markup-issues-trigger" data-issue-keys="US-238,US-249" data-initial-issue-key="US-238" data-single-issue="true" href="https://issues.bluehornet.com/browse/US-238">US-238</a>] Added task <a class="markup-issues-trigger" data-issue-keys="US-238,US-249" data-initial-issue-key="US-249" data-single-issue="true" href="https://issues.bluehornet.com/browse/US-249">US-249</a></li>
  <li>[#<a class="markup-issues-trigger" data-issue-keys="US-238,US-249" data-initial-issue-key="US-238" data-single-issue="true" href="https://issues.bluehornet.com/browse/US-238">US-238</a>] Minor fixes</li>
</ul></div></div></div></div><div class="aui-item summary-panel"><div class="plugin-section-primary"><div class="plugin-item participants hidden"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="participants-trigger aui-dropdown2-trigger" aria-haspopup="true" aria-controls="participants-dropdown" aria-expanded="false" resolved=""><span class="aui-icon aui-icon-small aui-iconfont-user"></span><span class="label">Participant</span></a><div class="item-extra-content"><div id="participants-dropdown" class="aui-dropdown2 aui-style-default aui-dropdown2-tailed avatar-dropdown participants-dropdown aui-layer" role="menu" aria-hidden="true" resolved=""><div role="application"><ul class="aui-list-truncate"></ul></div></div></div></div><div class="plugin-item jira-issues"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="pull-request-issues-trigger multi-issues" title="US-238
US-249"><span class="aui-icon aui-icon-small aui-iconfont-jira" title="Issues"></span><strong class="count">2</strong> <span class="label">JIRA Issues</span></a></div><div class="plugin-section-separator"></div><div class="plugin-item plugin-item-task-count hidden"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-list-dialog-link"><span class="aui-icon aui-icon-small aui-iconfont-editor-task"></span><span class="replacement-placeholder" title="View all tasks (Type &#39;Shift + T&#39;)" style="display: inline;"><span class="task-count" data-open="0" data-resolved="0"></span></span></a></div><div class="plugin-section-separator"></div></div><div class="plugin-section-secondary"><div class="plugin-item watch"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#"><span class="aui-icon aui-icon-small aui-iconfont-unwatch"></span><span class="aui-icon aui-icon-small aui-iconfont-watch"></span><strong>Unwatch</strong> this pull request</a></div><div class="plugin-item learn-more"><a href="http://docs.atlassian.com/stash/docs-0311/Using+pull+requests+in+Stash" target="_blank"><span class="aui-icon aui-icon-small aui-iconfont-help"></span>Learn more</a></div></div></div></div><h3>Activity</h3><div class="pull-request-activity-content"><ol id="pull-request-activity" class="pull-request-activity comment-container"><li class="comment-form-container"><form class="new-comment-form general-comment-form collapsed"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span><div class="content"><div class="markup-editor"><div class="markup-preview markup" title="Click to edit"></div><div class="expandingText" style="position: relative;"><textarea class="textarea text expanding expanding-init" name="text" placeholder="What do you want to say?" style="position: absolute; height: 100%; resize: none;"></textarea><pre class="textareaClone" style="visibility: hidden; border: 1px solid; white-space: pre-wrap; text-align: start; word-wrap: break-word; padding: 5px; margin-top: 0px; box-sizing: border-box;"><div> </div></pre></div><div class="markup-toolbar"><div class="secondary"><a class="aui-button aui-button-subtle aui-button-compact markup-preview-help" target="_blank" href="http://docs.atlassian.com/stash/docs-0311/Markdown+syntax+guide" title="Markup syntax guide" autocomplete="off" tabindex="0"><span class=" aui-icon aui-icon-small aui-iconfont-help">Markup syntax guide </span></a><button class="aui-button aui-button-subtle aui-button-compact markup-preview-button" type="button" data-preview-tooltip="View a preview of this comment" autocomplete="off">Preview</button></div><div class="primary"><label class="aui-button aui-button-subtle aui-button-compact markup-attachments-button" title="Attach a file to this comment. You can also drag and drop a file to attach it." autocomplete="off"><span class="aui-icon aui-icon-small aui-iconfont-attachment">Attach file </span></label></div><div class="tertiary"></div></div></div><div class="comment-form-footer"><div class="buttons"><button class="aui-button" autocomplete="off">Comment</button><a id="cancel" class="aui-button aui-button-link cancel" name="cancel" accesskey="c" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" autocomplete="off" tabindex="0">Cancel</a></div><div class="tip"><span class="tip-label">Tip: </span>You can use <a href="http://docs.atlassian.com/stash/docs-0311/Markdown+syntax+guide" target="_blank">Markdown</a> in comments</div></div></div></form></li><li class="activity-item file-comment-activity" data-activityid="9235"><div class="file-comments"></div><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:51 PM" datetime="2016-04-01T12:51:19-0700">2 days ago</time></p><div class="detail"><div class="file-comment-container"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js">routes.js</a></div></div></div><div class="file-comments"><div class="comment-container"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1459" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Lots of `jshint` and `JSCS` issues in code, Configure your IDE properly."><p>Lots of <code>jshint</code> and <code>JSCS</code> issues in code, Configure your IDE properly.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-1"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1459"><time title="01 April 2016 12:51 PM" datetime="2016-04-01T12:51:19-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9234"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:48 PM" datetime="2016-04-01T12:48:46-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F509">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 758.297px; min-height: 506px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="removed modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="508" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">509</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="509">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">                    config</span>.<span class=" ediff-change">logger</span>.<span class=" ediff-change">info("6</span>. <span class=" ediff-change">Updating</span> <span class=" ediff-change">static</span> <span class=" ediff-change">segment</span> <span class=" ediff-change">processing</span> <span class=" ediff-change">status</span> <span class=" ediff-change">to</span> <span class=" ediff-change">successful</span>.");</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">510</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="510">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-change">segmentApi</span>.<span class=" ediff-change">updateStaticSegmentsProcessingStatus</span>(<span class=" ediff-delete">config.segmentBulkUpdateEndpoint, </span>[<span class=" ediff-delete">{</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">511</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="511">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        <span class=" ediff-change">segment_id: segmentDataList[0].segment_id</span>,</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">512</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="512">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        <span class=" ediff-change">is_draft: false</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">513</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="513">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-change">}</span>], <span class=" ediff-change">done</span>);</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">514</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="514">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">}</span>;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">566</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="566">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">567</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="567">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-add">        if (req</span>.<span class=" ediff-change">body</span>.<span class=" ediff-change">split_type &amp;&amp; req</span>.<span class=" ediff-add">body.target.length</span> <span class=" ediff-change">&gt;</span> <span class=" ediff-change">1)</span> <span class=" ediff-change">{</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">568</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="568">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">           //</span> <span class=" ediff-change">throw</span> <span class=" ediff-change">Error("Not</span> <span class=" ediff-change">implemented</span> <span class=" ediff-change">yet</span>.");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">569</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="569">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            <span class=" ediff-change">async</span>.<span class=" ediff-change">waterfall</span>([</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">570</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="570">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">fetchSegmentSql</span>,</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="570" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1458" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Code shouldn&#39;t be repeated. Refactor this to have only one waterfall call with different processing array for different segment type."><p>Code shouldn't be repeated. Refactor this to have only one waterfall call with different processing array for different segment type.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-3"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1458"><time title="01 April 2016 12:48 PM" datetime="2016-04-01T12:48:46-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">571</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="571">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">createStaticSegments,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">572</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="572">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">populateStaticSegmentsBySplit,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">573</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="573">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                updateStaticSegmentsCount,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">574</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="574">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                updateSegmentProcessing</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">575</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="575">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">576</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="576">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">            </span>], <span class=" ediff-change">function (err, result</span>)<span class=" ediff-add"> {</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">577</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="577">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-add">                if (err) {</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">578</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="578">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-add">                    config.logger.error(err)</span>;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">579</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="579">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-change">if (err.status) {</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">580</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="580">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                        resp.status(err.status)</span>;</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="515" data-dest-offset="-66" data-change-type="CONTEXT" data-below="false" data-above="true"><div class="content-above"></div><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div></div></div></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 506px;"></div><div class="CodeMirror-gutters" style="height: 536px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9233"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:46 PM" datetime="2016-04-01T12:46:41-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F497">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 794.438px; min-height: 507px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="removed modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="496" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">497</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="497">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-delete">config.logger.info("Static segment count successful.");</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">498</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="498">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">                config.logger.info("5. Storing static segment result.");</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">499</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="499">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">                </span>segmentApi.<span class=" ediff-change">updateStaticSegmentsCount</span>(config.<span class=" ediff-change">segmentBulkCountUpdateEndpoint</span>, <span class=" ediff-change">[{</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">500</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="500">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                    segment_id: segmentDataList[0].segment_id</span>,</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">501</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="501">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-delete">count: result,</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">502</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="502">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">                    count_updated_at: (new Date()).toISOString()</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">503</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="503">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">                }], </span>function (err) {</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">504</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="504">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    done(err, <span class=" ediff-change">segmentDataList</span>);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">561</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="561">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                segmentApi.<span class=" ediff-change">updateStaticSegmentsProcessingStatus</span>(config.<span class=" ediff-change">segmentBulkUpdateEndpoint</span>, <span class=" ediff-change">updateData</span>,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">562</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="562">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">563</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="563">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    done(err, <span class=" ediff-change">responseData</span>);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="563" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1457" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="In case of err, this `responseData` should not be sent,."><p>In case of err, this <code>responseData</code> should not be sent,.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-5"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1457"><time title="01 April 2016 12:46 PM" datetime="2016-04-01T12:46:41-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="context line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">505</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">564</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="CONTEXT" data-line-number="505">&nbsp;</div></div></div><pre class=""><span style="padding-right: 0.1px;">                });</span></pre></div><div class="context line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">506</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">565</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="CONTEXT" data-line-number="506">&nbsp;</div></div></div><pre class=""><span style="padding-right: 0.1px;">            };</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">507</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="507">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var updateSegmentProcessing= function (segmentDataList, done) {</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">508</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="508">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    config.logger.info("Static segment count stored successfully.");</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">509</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="509">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    config.logger.info("6. Updating static segment processing status to successful.");</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">510</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="510">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    segmentApi.updateStaticSegmentsProcessingStatus(config.segmentBulkUpdateEndpoint, [{</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">511</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="511">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        segment_id: segmentDataList[0].segment_id,</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">512</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="512">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        is_draft: false</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">513</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="513">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    }], done);</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">514</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="514">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                };</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="515" data-dest-offset="-51" data-change-type="CONTEXT" data-below="false" data-above="true"><div class="content-above"></div><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div></div></div></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 507px;"></div><div class="CodeMirror-gutters" style="height: 537px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9232"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:32 PM" datetime="2016-04-01T12:32:05-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 859.5px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">791</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="791">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">792</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="792">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            if(segmentCount != splitValues.length || segmentCount === 0) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">793</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="793">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                error = new apiError.HttpStatusError(400, 'Invalid Segment Data');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">794</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="794">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">795</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="795">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">796</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="796">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">797</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="797">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Adjust percentage values and calculate split result</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">798</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="798">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var totalPercent = 0, usedCount = 0;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">799</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="799">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            for(var i = 0;i &lt; segmentCount; ++i) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">800</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="800">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">801</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="801">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // Validate split percent value is a non-negative number and return error if false</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="801" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1456" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Validate at the start."><p>Validate at the start.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-7"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1456"><time title="01 April 2016 12:32 PM" datetime="2016-04-01T12:32:05-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">802</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="802">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                if(isNaN(splitValues[i]) || splitValues[i] &lt; 0) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">803</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="803">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    error = new apiError.HttpStatusError(400, 'Invalid Split Value');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">804</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="804">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">805</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="805">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">806</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="806">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">807</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="807">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitValues[i] = parseInt(splitValues[i]);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">808</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="808">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">809</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="809">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // Total split percent value cannot be greater than 100</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">810</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="810">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // This compares left split percentage and request split percentage</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">811</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="811">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // And takes minimum of both, to keep total percent less than equal to 100</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9231"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:31 PM" datetime="2016-04-01T12:31:25-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 830.594px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">775</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="775">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var remainderCount = resultCount % segmentCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">776</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="776">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Increase count of first remainderCount segments by 1</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">777</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="777">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            for(var i = 0;i &lt; remainderCount; ++i) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">778</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="778">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitResult[i] += 1;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">779</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="779">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">780</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="780">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">781</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="781">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            queryConfig['splitResult'] = splitResult;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">782</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="782">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.updateTempTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">783</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="783">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">784</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="784">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">785</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="785">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function percentageSplit() {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="785" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1455" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="These functions contains common code, refactor them. "><p>These functions contains common code, refactor them. </p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-9"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1455"><time title="01 April 2016 12:31 PM" datetime="2016-04-01T12:31:25-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">786</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="786">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var resultCount = totalCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">787</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="787">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">788</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="788">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitValues = queryConfig.splitData.split_values;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">789</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="789">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitResult = []; // Stores Result Count of each segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">790</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="790">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">791</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="791">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">792</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="792">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            if(segmentCount != splitValues.length || segmentCount === 0) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">793</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="793">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                error = new apiError.HttpStatusError(400, 'Invalid Segment Data');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">794</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="794">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">795</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="795">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9229"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:27 PM" datetime="2016-04-01T12:27:41-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 953px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">942</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="942">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    populateStaticSegmentTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">943</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="943">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">944</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="944">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function populateStaticSegmentTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">945</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="945">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Static segment populated successfully.");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">946</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="946">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Deleting Temp Result Table");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">947</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="947">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">948</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="948">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">949</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="949">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">950</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="950">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">951</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="951">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">952</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="952">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("INSERT INTO static_segments (user_id, segment_id) (SELECT user_id, segment_id FROM {tableName});").format({</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="952" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1453" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Add a where clause to select only matching `segment_ids` result. This will prevent any data mix, "><p>Add a where clause to select only matching <code>segment_ids</code> result. This will prevent any data mix, </p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-11"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1453"><time title="01 April 2016 12:27 PM" datetime="2016-04-01T12:27:41-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">953</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="953">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">954</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="954">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">955</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="955">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">956</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="956">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {setSP} {copySql} {resetSP} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">957</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="957">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">958</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="958">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setSP: redshift.setSchemaPath(sourceSegmentData.schemaPath),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">959</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="959">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">960</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="960">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">961</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="961">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">962</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="962">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9228"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:25 PM" datetime="2016-04-01T12:25:18-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 787px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">876</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="876">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">877</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="877">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">878</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="878">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">879</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="879">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    // Updates temp segment table with segment ID's</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">880</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="880">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    updateTempTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">881</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="881">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">882</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="882">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function updateTempTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">883</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="883">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">884</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="884">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Table updated Successfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">885</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="885">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Populating Static Segment Table');</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">886</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="886">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.populateStaticSegmentTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="886" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1452" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="`err` shouldn&#39;t be send from here."><p><code>err</code> shouldn't be send from here.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-13"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1452"><time title="01 April 2016 12:25 PM" datetime="2016-04-01T12:25:18-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">887</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="887">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">888</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="888">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        /**</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">889</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="889">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         *</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">890</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="890">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * Generates update query to fill segment ID's in temp result table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">891</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="891">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @return {string} Update Query</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">892</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="892">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         */</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">893</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="893">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function prepareQuery() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">894</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="894">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">895</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="895">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var caseQueryTemplate = "WHEN id &lt;= {count_sum} THEN '{segment_id}' ";</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">896</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="896">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var startQuery = ("UPDATE {tableName} SET segment_id = (CASE ").format({</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9227"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:24 PM" datetime="2016-04-01T12:24:10-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 736.672px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">924</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="924">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">925</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="925">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">926</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="926">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">927</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="927">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">928</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="928">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table populate query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">929</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="929">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">930</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="930">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">931</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="931">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">932</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="932">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">933</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="933">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">934</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="934">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="934" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1451" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Log error and then drop."><p>Log error and then drop.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-15"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1451"><time title="01 April 2016 12:24 PM" datetime="2016-04-01T12:24:10-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">935</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="935">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">936</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="936">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">937</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="937">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `updateTempTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">938</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="938">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', updateTempTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">939</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="939">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">940</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="940">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">941</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="941">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">942</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="942">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    populateStaticSegmentTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">943</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="943">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">944</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="944">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function populateStaticSegmentTableCompleted(data) {</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9226"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:23 PM" datetime="2016-04-01T12:23:26-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 649.984px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">912</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="912">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">913</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="913">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.info("Split Results Calculated Successfully");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">914</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="914">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.info("Updating Temp Table with segment ID's");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">915</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="915">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">916</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="916">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">917</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="917">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">918</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="918">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = prepareQuery();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">919</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="919">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">920</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="920">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {setSP} {copySql} {resetSP} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">921</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="921">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">922</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="922">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setSP: redshift.setSchemaPath(sourceSegmentData.schemaPath),</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="922" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1450" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Not required, As this is a `temp` table."><p>Not required, As this is a <code>temp</code> table.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-17"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1450"><time title="01 April 2016 12:23 PM" datetime="2016-04-01T12:23:26-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">923</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="923">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">924</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="924">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">925</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="925">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">926</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="926">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">927</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="927">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">928</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="928">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table populate query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">929</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="929">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">930</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="930">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">931</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="931">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">932</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="932">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9225"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:19 PM" datetime="2016-04-01T12:19:58-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 613.859px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">891</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="891">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @return {string} Update Query</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">892</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="892">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         */</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">893</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="893">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function prepareQuery() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">894</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="894">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">895</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="895">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var caseQueryTemplate = "WHEN id &lt;= {count_sum} THEN '{segment_id}' ";</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">896</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="896">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var startQuery = ("UPDATE {tableName} SET segment_id = (CASE ").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">897</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="897">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">898</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="898">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">899</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="899">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var caseQuery = "";</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">900</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="900">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var endQuery = "END); ";</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">901</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="901">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            //var testQuery = " SELECT * FROM static_segment_temp order by id;";</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="901" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1449" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Remove this."><p>Remove this.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-19"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1449"><time title="01 April 2016 12:19 PM" datetime="2016-04-01T12:19:58-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">902</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="902">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length, countSum = 0;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">903</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="903">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            for(var i = 0;i &lt; segmentCount; ++i) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">904</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="904">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                countSum += queryConfig.splitResult[i];</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">905</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="905">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                caseQuery += (caseQueryTemplate).format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">906</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="906">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    count_sum: countSum,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">907</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="907">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    segment_id: queryConfig.segmentDataList[i].segment_id</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">908</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="908">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">909</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="909">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">910</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="910">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return startQuery + caseQuery + endQuery;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">911</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="911">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9224"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:17 PM" datetime="2016-04-01T12:17:45-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 707.781px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">771</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="771">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            while(splitResult.length &lt; segmentCount) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">772</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="772">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitResult.push(splitCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">773</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="773">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">774</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="774">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">775</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="775">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var remainderCount = resultCount % segmentCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">776</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="776">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Increase count of first remainderCount segments by 1</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">777</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="777">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            for(var i = 0;i &lt; remainderCount; ++i) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">778</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="778">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitResult[i] += 1;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">779</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="779">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">780</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="780">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">781</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="781">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            queryConfig['splitResult'] = splitResult;</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="781" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1448" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Use dot notation here."><p>Use dot notation here.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-21"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1448"><time title="01 April 2016 12:17 PM" datetime="2016-04-01T12:17:45-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">782</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="782">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.updateTempTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">783</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="783">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">784</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="784">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">785</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="785">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function percentageSplit() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">786</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="786">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var resultCount = totalCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">787</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="787">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">788</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="788">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitValues = queryConfig.splitData.split_values;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">789</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="789">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitResult = []; // Stores Result Count of each segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">790</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="790">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">791</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="791">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9223"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:11 PM" datetime="2016-04-01T12:11:56-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 830.594px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">754</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="754">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    processSplitCount: function(err, client, releaseConnection, queryConfig, callback, totalCount) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">755</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="755">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">756</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="756">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function equalSplit() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">757</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="757">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">758</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="758">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var resultCount = totalCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">759</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="759">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">760</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="760">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitValues = queryConfig.splitData.split_values;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">761</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="761">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitResult = []; // Stores Result Count of each segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">762</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="762">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">763</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="763">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">764</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="764">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            if(segmentCount != splitValues.length || segmentCount === 0) {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="764" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1447" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="This validation must be done before creating temp table,"><p>This validation must be done before creating temp table,</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-23"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1447"><time title="01 April 2016 12:11 PM" datetime="2016-04-01T12:11:56-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">765</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="765">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                error = new apiError.HttpStatusError(400, 'Invalid Segment Data');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">766</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="766">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">767</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="767">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">768</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="768">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">769</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="769">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Calculating split count on equal distribution</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">770</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="770">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitCount = Math.floor(resultCount / segmentCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">771</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="771">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            while(splitResult.length &lt; segmentCount) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">772</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="772">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitResult.push(splitCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">773</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="773">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">774</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="774">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9221"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:10 PM" datetime="2016-04-01T12:10:25-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 830.594px; min-height: 576px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">754</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="754">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    processSplitCount: function(err, client, releaseConnection, queryConfig, callback, totalCount) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">755</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="755">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">756</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="756">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function equalSplit() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">757</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="757">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">758</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="758">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var resultCount = totalCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">759</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="759">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">760</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="760">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitValues = queryConfig.splitData.split_values;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">761</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="761">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitResult = []; // Stores Result Count of each segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">762</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="762">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">763</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="763">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">764</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="764">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            if(segmentCount != splitValues.length || segmentCount === 0) {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="764" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1445" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Constant must be on right side."><p>Constant must be on right side.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-25"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1445"><time title="01 April 2016 12:10 PM" datetime="2016-04-01T12:10:25-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"><li class="comment" data-id="1446" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="use `!==`"><p>use <code>!==</code></p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-27"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1446"><time title="01 April 2016 12:10 PM" datetime="2016-04-01T12:10:51-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">765</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="765">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                error = new apiError.HttpStatusError(400, 'Invalid Segment Data');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">766</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="766">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">767</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="767">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">768</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="768">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">769</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="769">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Calculating split count on equal distribution</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">770</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="770">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitCount = Math.floor(resultCount / segmentCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">771</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="771">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            while(splitResult.length &lt; segmentCount) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">772</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="772">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                splitResult.push(splitCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">773</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="773">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">774</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="774">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 576px;"></div><div class="CodeMirror-gutters" style="height: 606px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9220"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:09 PM" datetime="2016-04-01T12:09:22-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 736.672px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">744</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="744">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">745</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="745">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">746</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="746">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">747</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="747">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Register query row event handler. triggers when new row is received from redshift.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">748</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="748">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('row', sqlDataReceivedCallback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">749</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="749">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">750</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="750">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `countTempResultTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">751</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="751">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', countTempResultTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">752</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="752">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">753</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="753">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">754</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="754">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    processSplitCount: function(err, client, releaseConnection, queryConfig, callback, totalCount) {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="754" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1444" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Pass `totalCount` in `queryConfig` itself."><p>Pass <code>totalCount</code> in <code>queryConfig</code> itself.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-29"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1444"><time title="01 April 2016 12:09 PM" datetime="2016-04-01T12:09:22-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">755</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="755">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">756</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="756">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function equalSplit() {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">757</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="757">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">758</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="758">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var resultCount = totalCount;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">759</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="759">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var segmentCount = queryConfig.segmentDataList.length;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">760</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="760">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitValues = queryConfig.splitData.split_values;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">761</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="761">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitResult = []; // Stores Result Count of each segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">762</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="762">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">763</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="763">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // This should not occur</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">764</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="764">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            if(segmentCount != splitValues.length || segmentCount === 0) {</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9219"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:07 PM" datetime="2016-04-01T12:07:53-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 801.703px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">865</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="865">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">866</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="866">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var splitType = queryConfig.splitData.split_type.toLowerCase();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">867</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="867">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        if (splitType === 'equal') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">868</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="868">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return equalSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">869</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="869">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'percentage') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">870</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="870">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return percentageSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">871</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="871">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'count') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">872</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="872">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return countSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">873</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="873">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">874</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="874">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error = new apiError.HttpStatusError(400, 'Split Type not supported');</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">875</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="875">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="875" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1443" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="This should not be required."><p>This should not be required.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-31"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1443"><time title="01 April 2016 12:07 PM" datetime="2016-04-01T12:07:53-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">876</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="876">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">877</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="877">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">878</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="878">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">879</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="879">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    // Updates temp segment table with segment ID's</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">880</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="880">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    updateTempTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">881</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="881">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">882</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="882">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function updateTempTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">883</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="883">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">884</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="884">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Table updated Successfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">885</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="885">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Populating Static Segment Table');</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9217"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:05 PM" datetime="2016-04-01T12:05:57-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 801.703px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">857</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="857">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">858</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="858">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Assign leftover count to last segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">859</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="859">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitResult[segmentCount - 1] += (resultCount - usedCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">860</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="860">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">861</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="861">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            queryConfig['splitResult'] = splitResult;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">862</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="862">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.updateTempTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">863</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="863">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">864</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="864">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">865</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="865">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">866</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="866">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var splitType = queryConfig.splitData.split_type.toLowerCase();</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">867</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="867">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        if (splitType === 'equal') {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="867" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1442" data-version="1"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Constants should be on left side of comparison to avoid possible assignment errors."><p>Constants should be on left side of comparison to avoid possible assignment errors.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-33"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1442"><time title="01 April 2016 12:05 PM (edited 01 April 2016 12:06 PM)" datetime="2016-04-01T12:05:57-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">868</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="868">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return equalSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">869</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="869">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'percentage') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">870</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="870">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return percentageSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">871</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="871">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'count') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">872</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="872">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return countSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">873</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="873">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">874</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="874">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error = new apiError.HttpStatusError(400, 'Split Type not supported');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">875</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="875">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">876</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="876">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">877</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="877">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9216"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:05 PM" datetime="2016-04-01T12:05:05-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 801.703px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">857</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="857">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">858</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="858">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Assign leftover count to last segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">859</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="859">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitResult[segmentCount - 1] += (resultCount - usedCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">860</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="860">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">861</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="861">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            queryConfig['splitResult'] = splitResult;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">862</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="862">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.updateTempTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">863</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="863">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">864</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="864">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">865</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="865">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">866</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="866">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var splitType = queryConfig.splitData.split_type.toLowerCase();</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">867</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="867">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        if (splitType === 'equal') {</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="867" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1441" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="DO NOT HARDCODE. Move them to class constants . "><p>DO NOT HARDCODE. Move them to class constants . </p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-35"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1441"><time title="01 April 2016 12:05 PM" datetime="2016-04-01T12:05:05-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">868</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="868">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return equalSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">869</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="869">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'percentage') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">870</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="870">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return percentageSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">871</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="871">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'count') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">872</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="872">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return countSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">873</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="873">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">874</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="874">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error = new apiError.HttpStatusError(400, 'Split Type not supported');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">875</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="875">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">876</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="876">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">877</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="877">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9215"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:03 PM" datetime="2016-04-01T12:03:27-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 801.703px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">856</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="856">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                usedCount += splitResult[i];</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">857</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="857">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">858</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="858">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Assign leftover count to last segment</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">859</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="859">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitResult[segmentCount - 1] += (resultCount - usedCount);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">860</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="860">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">861</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="861">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            queryConfig['splitResult'] = splitResult;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">862</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="862">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.updateTempTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">863</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="863">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">864</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="864">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">865</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="865">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">866</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="866">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var splitType = queryConfig.splitData.split_type.toLowerCase();</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="866" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1440" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="This validation should be done at very start of this flow."><p>This validation should be done at very start of this flow.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-37"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1440"><time title="01 April 2016 12:03 PM" datetime="2016-04-01T12:03:27-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">867</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="867">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        if (splitType === 'equal') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">868</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="868">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return equalSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">869</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="869">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'percentage') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">870</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="870">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return percentageSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">871</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="871">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else if (splitType === 'count') {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">872</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="872">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return countSplit();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">873</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="873">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        } else {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">874</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="874">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var error = new apiError.HttpStatusError(400, 'Split Type not supported');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">875</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="875">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return createSegment.dropTempResultTable(error, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">876</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="876">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9214"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:01 PM" datetime="2016-04-01T12:01:29-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 736.672px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">734</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="734">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">735</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="735">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">736</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="736">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">737</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="737">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">738</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="738">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table count query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">739</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="739">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">740</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="740">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">741</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="741">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">742</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="742">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">743</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="743">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">744</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="744">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="744" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1439" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="First log the error and then drop the table,"><p>First log the error and then drop the table,</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-39"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1439"><time title="01 April 2016 12:01 PM" datetime="2016-04-01T12:01:29-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">745</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="745">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">746</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="746">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">747</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="747">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Register query row event handler. triggers when new row is received from redshift.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">748</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="748">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('row', sqlDataReceivedCallback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">749</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="749">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">750</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="750">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `countTempResultTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">751</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="751">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', countTempResultTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">752</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="752">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">753</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="753">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">754</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="754">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    processSplitCount: function(err, client, releaseConnection, queryConfig, callback, totalCount) {</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9213"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:01 PM" datetime="2016-04-01T12:01:02-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 736.672px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">734</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="734">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">735</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="735">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">736</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="736">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">737</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="737">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">738</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="738">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table count query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">739</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="739">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">740</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="740">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">741</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="741">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">742</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="742">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">743</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="743">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">744</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="744">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="744" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1438" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Missing `err` log."><p>Missing <code>err</code> log.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-41"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1438"><time title="01 April 2016 12:01 PM" datetime="2016-04-01T12:01:02-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">745</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="745">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">746</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="746">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">747</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="747">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Register query row event handler. triggers when new row is received from redshift.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">748</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="748">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('row', sqlDataReceivedCallback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">749</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="749">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">750</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="750">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `countTempResultTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">751</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="751">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', countTempResultTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">752</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="752">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">753</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="753">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">754</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="754">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    processSplitCount: function(err, client, releaseConnection, queryConfig, callback, totalCount) {</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9212"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:00 PM" datetime="2016-04-01T12:00:14-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 628px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">719</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="719">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * callback, called when new row is received from db.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">720</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="720">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @param row new row from db</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">721</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="721">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @param result object for maintaining the result of query</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">722</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="722">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         */</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">723</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="723">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function sqlDataReceivedCallback(row, result) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">724</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="724">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            result.addRow(row);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">725</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="725">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">726</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="726">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">727</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="727">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">728</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="728">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("SELECT COUNT(*) FROM {tableName} ;").format({</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">729</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="729">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="729" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1437" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Incorrect indent."><p>Incorrect indent.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-43"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1437"><time title="01 April 2016 12:00 PM" datetime="2016-04-01T12:00:14-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">730</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="730">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">731</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="731">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">732</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="732">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">733</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="733">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">734</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="734">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">735</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="735">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">736</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="736">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">737</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="737">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">738</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="738">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table count query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">739</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="739">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9211"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 12:00 PM" datetime="2016-04-01T12:00:00-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 628px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">718</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="718">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        /**</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">719</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="719">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * callback, called when new row is received from db.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">720</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="720">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @param row new row from db</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">721</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="721">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         * @param result object for maintaining the result of query</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">722</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="722">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">         */</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">723</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="723">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function sqlDataReceivedCallback(row, result) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">724</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="724">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            result.addRow(row);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">725</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="725">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">726</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="726">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">727</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="727">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">728</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="728">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("SELECT COUNT(*) FROM {tableName} ;").format({</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="728" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1436" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Rename this `var`."><p>Rename this <code>var</code>.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-45"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1436"><time title="01 April 2016 12:00 PM" datetime="2016-04-01T12:00:00-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">729</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="729">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">730</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="730">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">731</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="731">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">732</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="732">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">733</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="733">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">734</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="734">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">735</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="735">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">736</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="736">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">737</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="737">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">738</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="738">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table count query: ", redshiftSql);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9210"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:59 AM" datetime="2016-04-01T11:59:21-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 765.578px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">663</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="663">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">664</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="664">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `createTempTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">665</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="665">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', createTempTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">666</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="666">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">667</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="667">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">668</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="668">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    populateTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">669</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="669">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">670</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="670">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function populateTempTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">671</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="671">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Populated Sucessfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">672</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="672">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Getting Total Count from Temp Result Table');</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">673</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="673">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.countTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="673" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1435" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Why passing `err` from here."><p>Why passing <code>err</code> from here.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-47"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1435"><time title="01 April 2016 11:59 AM" datetime="2016-04-01T11:59:21-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">674</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="674">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">675</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="675">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">676</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="676">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">677</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="677">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">678</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="678">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("INSERT INTO {tableName} (user_id) (SELECT user_id FROM ({source_segment_sql}) " +</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">679</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="679">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        "{random_order} {limit_result});").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">680</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="680">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">681</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="681">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">682</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="682">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // By slice we are removing semicolon from query so that it can be used as inner query.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">683</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="683">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                source_segment_sql: sourceSegmentData.sqlQuery.slice(0, -1),</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9209"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:58 AM" datetime="2016-04-01T11:58:31-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 765.578px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">661</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="661">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.queryErrorCallback(err, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">662</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="662">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">663</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="663">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">664</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="664">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `createTempTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">665</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="665">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', createTempTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">666</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="666">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">667</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="667">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">668</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="668">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    populateTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">669</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="669">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">670</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="670">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function populateTempTableCompleted(data) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">671</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="671">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Populated Sucessfully');</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="671" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1434" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Typo in `Sucessfully`"><p>Typo in <code>Sucessfully</code></p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-49"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1434"><time title="01 April 2016 11:58 AM" datetime="2016-04-01T11:58:31-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">672</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="672">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Getting Total Count from Temp Result Table');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">673</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="673">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.countTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">674</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="674">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">675</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="675">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">676</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="676">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">677</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="677">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">678</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="678">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("INSERT INTO {tableName} (user_id) (SELECT user_id FROM ({source_segment_sql}) " +</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">679</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="679">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        "{random_order} {limit_result});").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">680</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="680">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">681</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="681">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName,</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9208"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:57 AM" datetime="2016-04-01T11:57:51-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 736.672px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">692</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="692">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">693</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="693">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">694</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="694">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">695</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="695">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">696</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="696">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table populate query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">697</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="697">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">698</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="698">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">699</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="699">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">700</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="700">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">701</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="701">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">702</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="702">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="702" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1433" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="`err` log missing."><p><code>err</code> log missing.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-51"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1433"><time title="01 April 2016 11:57 AM" datetime="2016-04-01T11:57:51-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">703</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="703">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">704</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="704">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">705</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="705">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `populateTempTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">706</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="706">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', populateTempTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">707</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="707">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">708</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="708">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">709</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="709">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    countTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">710</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="710">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">711</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="711">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function countTempResultTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">712</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="712">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Count calculated Successfully');</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9207"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:57 AM" datetime="2016-04-01T11:57:17-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 780px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">959</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="959">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">960</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="960">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">961</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="961">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">962</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="962">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">963</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="963">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">964</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="964">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">965</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="965">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">966</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="966">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">967</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="967">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call 'dropTempResultTable' to delete temp table</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">968</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="968">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">969</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="969">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.dropTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="969" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1432" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Missing `err` logging. err is never logged,"><p>Missing <code>err</code> logging. err is never logged,</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-61"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1432"><time title="01 April 2016 11:57 AM" datetime="2016-04-01T11:57:17-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">970</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="970">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">971</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="971">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">972</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="972">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `populateStaticSegmentTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">973</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="973">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', populateStaticSegmentTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">974</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="974">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">975</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="975">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">976</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="976">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    dropTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">977</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="977">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">978</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="978">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function dropTempResultTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">979</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="979">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Temp Result Table Deleted Successfully");</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9206"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:55 AM" datetime="2016-04-01T11:55:12-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 780px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">972</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="972">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `populateStaticSegmentTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">973</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="973">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', populateStaticSegmentTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">974</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="974">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">975</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="975">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">976</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="976">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    dropTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">977</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="977">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">978</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="978">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function dropTempResultTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">979</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="979">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Temp Result Table Deleted Successfully");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">980</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="980">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            releaseConnection();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">981</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="981">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">982</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="982">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            callback(err, queryConfig.splitResult);</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="982" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1431" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Don&#39;t pass error and data both. If error is passed then data should be null,"><p>Don't pass error and data both. If error is passed then data should be null,</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-63"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1431"><time title="01 April 2016 11:55 AM" datetime="2016-04-01T11:55:12-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">983</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="983">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">984</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="984">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">985</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="985">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">986</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="986">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("DROP TABLE {tableName};").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">987</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="987">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">988</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="988">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">989</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="989">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">990</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="990">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">991</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="991">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">992</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="992">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9205"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:52 AM" datetime="2016-04-01T11:52:31-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 751px; min-height: 506px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">990</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="990">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">991</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="991">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">992</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="992">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">993</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="993">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">994</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="994">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">995</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="995">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">996</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="996">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">997</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="997">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">998</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="998">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call `queryErrorCallback` for handling query error</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">999</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="999">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1000</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1000">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            releaseConnection();</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="1000" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1430" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Log warning message stating drop has been failed. "><p>Log warning message stating drop has been failed. </p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-65"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1430"><time title="01 April 2016 11:52 AM" datetime="2016-04-01T11:52:31-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1001</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1001">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.queryErrorCallback(err, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1002</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1002">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1003</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1003">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1004</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1004">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //Once query is end, call `dropTempResultTableCompleted` for further query result processing</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1005</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1005">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('end', dropTempResultTableCompleted);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1006</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1006">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1007</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="1007">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="context line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">548</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1008</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="CONTEXT" data-line-number="548">&nbsp;</div></div></div><pre class=""><span style="padding-right: 0.1px;">    resultConnectionCreatedCallback: function (err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="context line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">549</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1009</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="CONTEXT" data-line-number="549">&nbsp;</div></div></div><pre class=""><span style="padding-right: 0.1px;">        if (err) {</span></pre></div><div class="context line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">550</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">1010</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="CONTEXT" data-line-number="550">&nbsp;</div></div></div><pre class=""><span style="padding-right: 0.1px;">            //Connection fail so log it.</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="551" data-dest-offset="-460" data-change-type="CONTEXT" data-below="false" data-above="true"><div class="content-above"></div><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div></div></div></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 506px;"></div><div class="CodeMirror-gutters" style="height: 536px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9203"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:36 AM" datetime="2016-04-01T11:36:48-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 657px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">976</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="976">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    dropTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">977</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="977">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">978</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="978">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function dropTempResultTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">979</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="979">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Temp Result Table Deleted Successfully");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">980</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="980">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            releaseConnection();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">981</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="981">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">982</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="982">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            callback(err, queryConfig.splitResult);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">983</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="983">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">984</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="984">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">985</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="985">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">986</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="986">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("DROP TABLE {tableName};").format({</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="986" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1428" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Incorrect variabe name."><p>Incorrect variabe name.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-67"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1428"><time title="01 April 2016 11:36 AM" datetime="2016-04-01T11:36:48-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">987</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="987">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">988</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="988">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">989</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="989">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">990</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="990">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">991</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="991">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">992</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="992">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">993</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="993">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">994</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="994">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">995</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="995">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">996</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="996">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing query: ", redshiftSql);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9202"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:35 AM" datetime="2016-04-01T11:35:40-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px; display: block; right: 0px; left: 95px;"><div style="height: 100%; min-height: 1px; width: 1280px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 1184.61px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">679</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="679">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        "{random_order} {limit_result});").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">680</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="680">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">681</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="681">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">682</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="682">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // By slice we are removing semicolon from query so that it can be used as inner query.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">683</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="683">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                source_segment_sql: sourceSegmentData.sqlQuery.slice(0, -1),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">684</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="684">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                random_order: ('queryParams' in queryConfig) &amp;&amp; ('random' in queryConfig.queryParams) &amp;&amp; queryConfig.queryParams.random ? 'ORDER BY RANDOM()' : '',</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">685</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="685">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                limit_result: ('queryParams' in queryConfig) &amp;&amp; ('limit' in queryConfig.queryParams) ? 'LIMIT ' + queryConfig.queryParams.limit : ''</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">686</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="686">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">687</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="687">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">688</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="688">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {setSP} {copySql} {resetSP} {resetQ}".format({</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">689</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="689">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="689" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1427" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Use priority queue here."><p>Use priority queue here.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-69"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1427"><time title="01 April 2016 11:35 AM" datetime="2016-04-01T11:35:40-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">690</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="690">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setSP: redshift.setSchemaPath(sourceSegmentData.schemaPath),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">691</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="691">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">692</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="692">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetSP: redshift.resetSchemaPath(),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">693</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="693">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">694</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="694">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">695</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="695">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">696</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="696">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table populate query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">697</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="697">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">698</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="698">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">699</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="699">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9201"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:35 AM" datetime="2016-04-01T11:35:14-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 0px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px; display: block; right: 0px; left: 95px;"><div style="height: 100%; min-height: 1px; width: 1280px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 1184.61px; min-height: 489px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: 17px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">671</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="671">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Populated Sucessfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">672</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="672">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Getting Total Count from Temp Result Table');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">673</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="673">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.countTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">674</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="674">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">675</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="675">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">676</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="676">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">677</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="677">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">678</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="678">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("INSERT INTO {tableName} (user_id) (SELECT user_id FROM ({source_segment_sql}) " +</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">679</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="679">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        "{random_order} {limit_result});").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">680</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="680">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">681</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="681">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName,</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: 17px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="681" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1426" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Incorrect indent."><p>Incorrect indent.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-71"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1426"><time title="01 April 2016 11:35 AM" datetime="2016-04-01T11:35:14-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">682</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="682">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // By slice we are removing semicolon from query so that it can be used as inner query.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">683</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="683">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                source_segment_sql: sourceSegmentData.sqlQuery.slice(0, -1),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">684</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="684">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                random_order: ('queryParams' in queryConfig) &amp;&amp; ('random' in queryConfig.queryParams) &amp;&amp; queryConfig.queryParams.random ? 'ORDER BY RANDOM()' : '',</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">685</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="685">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                limit_result: ('queryParams' in queryConfig) &amp;&amp; ('limit' in queryConfig.queryParams) ? 'LIMIT ' + queryConfig.queryParams.limit : ''</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">686</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="686">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">687</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="687">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">688</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="688">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {setSP} {copySql} {resetSP} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">689</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="689">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">690</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="690">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setSP: redshift.setSchemaPath(sourceSegmentData.schemaPath),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: 17px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">691</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="691">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 489px;"></div><div class="CodeMirror-gutters" style="height: 519px; left: 112px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9198"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:34 AM" datetime="2016-04-01T11:34:30-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px; display: block; right: 0px; left: 95px;"><div style="height: 100%; min-height: 1px; width: 1280px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 1184.61px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">668</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="668">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">    populateTempResultTable: function(err, client, releaseConnection, queryConfig, callback) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">669</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="669">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">670</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="670">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function populateTempTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">671</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="671">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Populated Sucessfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">672</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="672">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Getting Total Count from Temp Result Table');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">673</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="673">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.countTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">674</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="674">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">675</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="675">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">676</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="676">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var sourceSegmentData = queryConfig.sourceSegmentData;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">677</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="677">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">678</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="678">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("INSERT INTO {tableName} (user_id) (SELECT user_id FROM ({source_segment_sql}) " +</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="678" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1425" data-version="2"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="This ` (SELECT user_id FROM ` is not required. `source_segment_sql` is already returning user_ids so you can use that and apply ordering and limit on that."><p>This <code>(SELECT user_id FROM</code> is not required. <code>source_segment_sql</code> is already returning user_ids so you can use that and apply ordering and limit on that.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-73"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1425"><time title="01 April 2016 11:34 AM (edited 01 April 2016 11:34 AM)" datetime="2016-04-01T11:34:30-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">679</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="679">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        "{random_order} {limit_result});").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">680</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="680">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">681</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="681">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                tableName: queryConfig.tableName,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">682</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="682">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                // By slice we are removing semicolon from query so that it can be used as inner query.</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">683</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="683">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                source_segment_sql: sourceSegmentData.sqlQuery.slice(0, -1),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">684</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="684">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                random_order: ('queryParams' in queryConfig) &amp;&amp; ('random' in queryConfig.queryParams) &amp;&amp; queryConfig.queryParams.random ? 'ORDER BY RANDOM()' : '',</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">685</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="685">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                limit_result: ('queryParams' in queryConfig) &amp;&amp; ('limit' in queryConfig.queryParams) ? 'LIMIT ' + queryConfig.queryParams.limit : ''</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">686</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="686">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">687</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="687">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">688</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="688">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {setSP} {copySql} {resetSP} {resetQ}".format({</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9196"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:25 AM" datetime="2016-04-01T11:25:59-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 975px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">633</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="633">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            releaseConnection();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">634</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="634">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            return callback(serverErr);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">635</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="635">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">636</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="636">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        function createTempTableCompleted(data) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">637</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="637">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Temp Result Table Created Successfully');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">638</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="638">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info('Populating Temp Result Table');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">639</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="639">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.populateTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">640</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="640">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">641</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="641">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">642</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="642">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.info('Table name: ', queryConfig.tableName);</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">643</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="643">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="643" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1424" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Don&#39;t create `RedshiftBackend` object in each function."><p>Don't create <code>RedshiftBackend</code> object in each function.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-75"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1424"><time title="01 April 2016 11:25 AM" datetime="2016-04-01T11:25:59-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">644</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="644">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("CREATE TEMP TABLE {tableName} (id int identity(1,1), user_id varchar(64), segment_id varchar(256));").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">645</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="645">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">646</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="646">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">647</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="647">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">648</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="648">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">649</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="649">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">650</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="650">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">651</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="651">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">652</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="652">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">653</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="653">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9192"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:22 AM" datetime="2016-04-01T11:22:05-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F548">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 975px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="547" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">639</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="639">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.populateTempResultTable(err, client, releaseConnection, queryConfig, callback);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">640</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="640">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        }</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">641</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="641">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">642</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="642">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.info('Table name: ', queryConfig.tableName);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">643</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="643">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshift = new RedshiftBackend();</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">644</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="644">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var copySql = ("CREATE TEMP TABLE {tableName} (id int identity(1,1), user_id varchar(64), segment_id varchar(256));").format({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">645</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="645">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            tableName: queryConfig.tableName</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">646</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="646">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">647</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="647">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">648</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="648">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var redshiftSql = "{setQ} {copySql} {resetQ}".format({</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">649</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="649">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            setQ: redshift.setQueue(config.SEGMENT_QUEUE_NAME),</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="649" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1422" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Use `config.PRIORITY_QUEUE_NAME` here."><p>Use <code>config.PRIORITY_QUEUE_NAME</code> here.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-77"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1422"><time title="01 April 2016 11:22 AM" datetime="2016-04-01T11:22:05-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">650</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="650">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            copySql: copySql,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">651</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="651">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            resetQ: redshift.resetQueue()</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">652</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="652">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">653</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="653">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">654</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="654">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        config.logger.debug("Executing temp result table create query: ", redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">655</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="655">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">656</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="656">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var queryTask = client.query(redshiftSql);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">657</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="657">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">658</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="658">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //call `queryErrorCallback` for handling query error</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">659</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="659">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        queryTask.on('error', function (err) {</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9190"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:18 AM" datetime="2016-04-01T11:18:33-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F446">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 888px; min-height: 490px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="445" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">468</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="468">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Retrieved static segment Id's and source segment sql");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">469</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="469">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.debug("Retrieved static segment Id's.", segmentDataList);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">470</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="470">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("3. Evaluating and Populating Static Segments with result");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">471</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="471">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">472</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="472">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitData = {};</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">473</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="473">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">474</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="474">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Generates a unique name for temp table using static segment create data</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">475</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="475">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Padding md5 hash with table_ to prevent table name start from digit</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">476</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="476">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var tempTableName = "table_" + crypto.createHash('md5').update(JSON.stringify(segmentDataList)).digest('hex');</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">477</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="477">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">478</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="478">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitData['split_type'] = req.body.split_type;</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="478" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1420" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Use dot notation like `splitData.split_type = req.body.split_type`"><p>Use dot notation like <code>splitData.split_type = req.body.split_type</code></p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-79"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1420"><time title="01 April 2016 11:18 AM" datetime="2016-04-01T11:18:33-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">479</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="479">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">480</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="480">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Storing split values</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">481</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="481">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitData['split_values'] = req.body.target.map(function(segment) { return segment.split_value; });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">482</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="482">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">483</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="483">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.populateStaticSegmentBySplit({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">484</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="484">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                queryParams: {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">485</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="485">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    random: req.body.source.random,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">486</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="486">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    limit: req.body.source.limit</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">487</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="487">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                },</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">488</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="488">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                sourceSegmentData: sourceSegmentData,</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 490px;"></div><div class="CodeMirror-gutters" style="height: 520px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9189"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 11:06 AM" datetime="2016-04-01T11:06:31-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F507">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 758.297px; min-height: 506px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="removed modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="506" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">507</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="507">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-delete">            var</span> <span class=" ediff-delete">updateSegmentProcessing= function </span>(<span class=" ediff-change">segmentDataList, done) {</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">508</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="508">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                    config</span>.<span class=" ediff-change">logger</span>.<span class=" ediff-change">info("Static</span> <span class=" ediff-change">segment</span> <span class=" ediff-change">count stored successfully</span>.<span class=" ediff-change">");</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">509</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="509">-</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                    config</span>.<span class=" ediff-change">logger</span>.<span class=" ediff-change">info("6.</span> <span class=" ediff-change">Updating</span> <span class=" ediff-change">static</span> <span class=" ediff-change">segment</span> <span class=" ediff-change">processing</span> <span class=" ediff-change">status</span> <span class=" ediff-change">to</span> <span class=" ediff-change">successful</span>.");</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">510</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="510">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-change">segmentApi</span>.<span class=" ediff-change">updateStaticSegmentsProcessingStatus</span>(<span class=" ediff-delete">config.segmentBulkUpdateEndpoint, </span>[<span class=" ediff-delete">{</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">511</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="511">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        <span class=" ediff-change">segment_id: segmentDataList[0].segment_id</span>,</span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">512</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="512">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                        <span class=" ediff-change">is_draft: false</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">513</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="513">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    <span class=" ediff-change">}</span>], <span class=" ediff-change">done</span>)<span class=" ediff-change">;</span></span></pre></div><div class="removed modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">514</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="REMOVED" data-line-number="514">-</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">}</span>;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">566</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="566">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">567</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="567">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-add">        if</span> (<span class=" ediff-change">req</span>.<span class=" ediff-change">body</span>.<span class=" ediff-change">split_type</span> <span class=" ediff-change">&amp;&amp;</span> <span class=" ediff-change">req</span>.<span class=" ediff-change">body</span>.<span class=" ediff-change">target</span>.<span class=" ediff-change">length</span> <span class=" ediff-change">&gt;</span> <span class=" ediff-change">1)</span> <span class=" ediff-change">{</span></span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">568</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="568">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">           //</span> <span class=" ediff-change">throw</span> <span class=" ediff-change">Error("Not</span> <span class=" ediff-change">implemented</span> <span class=" ediff-change">yet</span>.");</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="568" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1419" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Remove this."><p>Remove this.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-81"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1419"><time title="01 April 2016 11:06 AM" datetime="2016-04-01T11:06:31-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">569</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="569">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            <span class=" ediff-change">async</span>.<span class=" ediff-change">waterfall</span>([</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">570</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="570">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">fetchSegmentSql</span>,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">571</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="571">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">createStaticSegments,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">572</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="572">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">populateStaticSegmentsBySplit,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">573</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="573">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                updateStaticSegmentsCount,</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">574</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="574">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                updateSegmentProcessing</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">575</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="575">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">576</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="576">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">            </span>], <span class=" ediff-change">function (err, result</span>)<span class=" ediff-change"> {</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">577</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="577">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                <span class=" ediff-change">if (err) {</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">578</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="578">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span class=" ediff-change">                    config.logger.error(err)</span>;</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="515" data-dest-offset="-64" data-change-type="CONTEXT" data-below="false" data-above="true"><div class="content-above"></div><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div></div></div></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 506px;"></div><div class="CodeMirror-gutters" style="height: 536px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item diff-comment-activity" data-activityid="9187"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 10:58 AM" datetime="2016-04-01T10:58:18-0700">2 days ago</time></p><div class="detail"><div class="file-content"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js?F446">routes.js</a></div></div></div><div class="content-view diff-view fully-loaded scroll-x text-view unified-diff diff-type-MODIFY animated diff-api-ready"><div class="file-comments"></div><div class="diff-editor codemirror-auto-resizing-container"><div class="CodeMirror cm-s-stash-default"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 21px; left: 99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 95px; margin-bottom: 0px; border-right-width: 30px; min-width: 888px; min-height: 576px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" data-skate-ignore="true"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><div style="position: relative; margin-left: -95px; width: 1158px;"></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 17px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" data-skate-ignore="true"><div class="added modified line first-line-of-hunk" style="position: relative;"><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="skipped-container" data-line-start="1" data-line-end="445" data-dest-offset="0" data-change-type="CONTEXT" data-below="true" data-above="false"><div class="showmore" title="Click to reveal a few more lines
Ctrl + Click to reveal them all"></div><div class="content-below"></div></div></div><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">466</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="466">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        //]</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">467</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="467">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">        var populateStaticSegmentsBySplit = function(sourceSegmentData, segmentDataList, done) {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">468</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="468">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("Retrieved static segment Id's and source segment sql");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">469</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="469">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.debug("Retrieved static segment Id's.", segmentDataList);</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">470</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="470">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            config.logger.info("3. Evaluating and Populating Static Segments with result");</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">471</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="471">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">472</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="472">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var splitData = {};</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">473</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="473">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">474</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="474">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Generates a unique name for temp table using static segment create data</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">475</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="475">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Padding md5 hash with table_ to prevent table name start from digit</span></pre></div><div class="added modified line commented" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">476</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="476">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            var tempTableName = "table_" + crypto.createHash('md5').update(JSON.stringify(segmentDataList)).digest('hex');</span></pre><div class="CodeMirror-linewidget" cm-ignore-events="true" style="left: -95px; width: 1158px; z-index: 5; position: relative;"><div class="comment-container comment-box" data-line-number="476" data-line-type="ADDED"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1418" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="remove `table` prefix.
"><p>remove <code>table</code> prefix.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-83"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1418"><time title="01 April 2016 10:58 AM" datetime="2016-04-01T10:58:18-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"><li class="comment" data-id="1421" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="user-name" title="Shikhar">Shikhar</a><div class="message markup" data-text="Without a prefix it is not guaranteed that first character is a latin alphabet.. which is required.. "><p>Without a prefix it is not guaranteed that first character is a latin alphabet.. which is required.. </p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><button class="stash-link-button edit">Edit</button></li><li><button class="stash-link-button delete">Delete</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1421"><time title="01 April 2016 11:21 AM" datetime="2016-04-01T11:21:32-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></li></ol></div></div></div></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">477</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="477">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">478</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="478">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitData['split_type'] = req.body.split_type;</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">479</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="479">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">480</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="480">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            // Storing split values</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">481</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="481">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            splitData['split_values'] = req.body.target.map(function(segment) { return segment.split_value; });</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">482</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="482">+</div></div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">483</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="483">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">            createSegment.populateStaticSegmentBySplit({</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">484</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="484">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                queryParams: {</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">485</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="485">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    random: req.body.source.random,</span></pre></div><div class="added modified line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -95px; width: 95px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 37px;"><div class="line-number line-number-from stash-gutter-marker">&nbsp;</div></div><div class="CodeMirror-gutter-elt" style="left: 37px; width: 37px;"><div class="line-number line-number-to stash-gutter-marker">486</div></div><div class="CodeMirror-gutter-elt" style="left: 74px; width: 20px;"><div class="line-number-marker line-locator stash-gutter-marker" data-file-type="" data-line-type="ADDED" data-line-number="486">+</div></div></div><pre class=""><span style="padding-right: 0.1px;">                    limit: req.body.source.limit</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 576px;"></div><div class="CodeMirror-gutters" style="height: 606px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number-from"></div><div class="CodeMirror-gutter line-number-to"></div><div class="CodeMirror-gutter line-number-marker"></div><div class="CodeMirror-gutter gutter-border"></div></div></div></div></div></div></div></div></div></div></li><li class="activity-item file-comment-activity" data-activityid="9177"><div class="file-comments"></div><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 05:25 AM" datetime="2016-04-01T05:25:22-0700">2 days ago</time></p><div class="detail"><div class="file-comment-container"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js">routes.js</a></div></div></div><div class="file-comments"><div class="comment-container"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1411" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Invalid split type should not create static segment."><p>Invalid split type should not create static segment.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-53"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1411"><time title="01 April 2016 05:25 AM" datetime="2016-04-01T05:25:22-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div></div></div></div></li><li class="activity-item file-comment-activity" data-activityid="9175"><div class="file-comments"></div><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 05:22 AM" datetime="2016-04-01T05:22:25-0700">2 days ago</time></p><div class="detail"><div class="file-comment-container"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js">routes.js</a></div></div></div><div class="file-comments"><div class="comment-container"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1409" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="For a split to work minimum two target segments are required. For now put max to 20 but keep it configurable."><p>For a split to work minimum two target segments are required. For now put max to 20 but keep it configurable.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-55"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1409"><time title="01 April 2016 05:22 AM" datetime="2016-04-01T05:22:25-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div></div></div></div></li><li class="activity-item file-comment-activity" data-activityid="9173"><div class="file-comments"></div><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 05:21 AM" datetime="2016-04-01T05:21:41-0700">2 days ago</time></p><div class="detail"><div class="file-comment-container"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js">routes.js</a></div></div></div><div class="file-comments"><div class="comment-container"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1407" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Endpoint should throw error if unsupported split type is given in input.
"><p>Endpoint should throw error if unsupported split type is given in input.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-57"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1407"><time title="01 April 2016 05:21 AM" datetime="2016-04-01T05:21:41-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div></div></div></div></li><li class="activity-item file-comment-activity" data-activityid="9171"><div class="file-comments"></div><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a> commented on a file<time title="01 April 2016 05:19 AM" datetime="2016-04-01T05:19:28-0700">2 days ago</time></p><div class="detail"><div class="file-comment-container"><div class="file-toolbar"><div class="secondary"></div><div class="primary"><span class="aui-icon aui-icon-small aui-iconfont-devtools-file"></span><div class="breadcrumbs"><span>app</span><span class="sep">/</span><a class="stub" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/diff#app/routes.js">routes.js</a></div></div></div><div class="file-comments"><div class="comment-container"><div class="panel"><ol class="comment-list"><li class="comment" data-id="1405" data-version="0"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-arpit"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/avatar(3).png" alt="Arpit Jain"></span></span><div class="content"><a href="http://git.bluehornet.com/users/kickdrum-arpit" class="user-name" title="Arpit Jain">Arpit Jain</a><div class="message markup" data-text="Incorrect status on `success/failure`."><p>Incorrect status on <code>success/failure</code>.</p></div><ul class="actions"><li><button class="stash-link-button reply">Reply</button></li><li><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="task-create" data-web-item-key="com.atlassian.stash.stash-client-web-fragments-plugin:comment-create-task">Create task</a></li></ul><ul class="info"><li><button class="stash-link-button comment-likes-button">Like</button></li><li class="hidden"><div id="async-web-panel-59"></div></li><li><a class="times" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview?commentId=1405"><time title="01 April 2016 05:19 AM" datetime="2016-04-01T05:19:28-0700">2 days ago</time></a></li></ul><div class="extras"><ul class="task-list" style="height: auto;"></ul></div></div><ol class="replies"></ol></li></ol></div></div></div></div></div></div></div></li><li class="activity-item rescope"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="user-name" title="Shikhar">Shikhar</a> <span class="aui-lozenge aui-lozenge-current updated pull-request-state-lozenge" title="This pull request has been updated.">updated</span> the pull request by adding 1 commit<time title="01 April 2016 04:03 AM" datetime="2016-04-01T04:03:28-0700">2 days ago</time></p><div class="detail"><table class="aui commits-table show-merges" data-lastpage="true"><tbody><tr data-changesetid="45000036c2e6f5cbed749e8b2738ef09ff4fb92f" class="commit-row "><td class="author"><div class="avatar-with-name" title="Shikhar"><span class="aui-avatar aui-avatar-small user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b.jpg" alt="Shikhar"></span></span><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="secondary-link">Shikhar</a></div></td><td class="changeset"><a class="changesetid" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/commits/45000036c2e6f5cbed749e8b2738ef09ff4fb92f" data-changeset-id="45000036c2e6f5cbed749e8b2738ef09ff4fb92f">45000036c2e</a><!-- show merge lozenge/icon if is a merge commit, eg has 2+ parents --></td><td class="message"><span class="message-subject" title="[#US-238] Comment fixes">[#US-238] Comment fixes</span><span class="message-body" title="[#US-238] Comment fixes"></span></td><td class="comment-count"></td><td class="timestamp"><time title="01 April 2016 04:06 AM" datetime="2016-04-01T04:06:51-0700">2 days ago</time></td><td class="status"><span class="aui-lozenge aui-lozenge-subtle aui-lozenge-success">ADDED</span></td></tr></tbody></table></div></div></div></li><li class="activity-item rescope"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="user-name" title="Shikhar">Shikhar</a> <span class="aui-lozenge aui-lozenge-current updated pull-request-state-lozenge" title="This pull request has been updated.">updated</span> the pull request by adding 1 commit<time title="01 April 2016 04:00 AM" datetime="2016-04-01T04:00:34-0700">2 days ago</time></p><div class="detail"><table class="aui commits-table show-merges" data-lastpage="true"><tbody><tr data-changesetid="6fcdd3e83f1f7788e17e36613fe9d91960929727" class="commit-row "><td class="author"><div class="avatar-with-name" title="Shikhar"><span class="aui-avatar aui-avatar-small user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b.jpg" alt="Shikhar"></span></span><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="secondary-link">Shikhar</a></div></td><td class="changeset"><a class="changesetid" href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/commits/6fcdd3e83f1f7788e17e36613fe9d91960929727" data-changeset-id="6fcdd3e83f1f7788e17e36613fe9d91960929727">6fcdd3e83f1</a><!-- show merge lozenge/icon if is a merge commit, eg has 2+ parents --></td><td class="message"><span class="message-subject" title="[#US-238] Minor fixes 2">[#US-238] Minor fixes 2</span><span class="message-body" title="[#US-238] Minor fixes 2"></span></td><td class="comment-count"></td><td class="timestamp"><time title="01 April 2016 04:03 AM" datetime="2016-04-01T04:03:59-0700">2 days ago</time></td><td class="status"><span class="aui-lozenge aui-lozenge-subtle aui-lozenge-success">ADDED</span></td></tr></tbody></table></div></div></div></li><li class="activity-item"><div class="activity-item-content"><div class="avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span></div><div class="action"><p class="summary"><a href="http://git.bluehornet.com/users/kickdrum-shikhar" class="user-name" title="Shikhar">Shikhar</a> <span class="aui-lozenge aui-lozenge-complete opened pull-request-state-lozenge" title="This pull request is in progress.">opened</span> the pull request<time title="01 April 2016 03:39 AM" datetime="2016-04-01T03:39:13-0700">2 days ago</time></p><div class="detail"></div></div></div></li></ol></div></div></div></section><!-- .aui-page-panel-content --></div><!-- .aui-page-panel-inner --></div><!-- .aui-page-panel --></section><!-- End #content --><!-- Start #footer --><footer id="footer" role="contentinfo"><section class="notifications"></section><section class="footer-body"><ul><li data-key="footer.license.message">Git repository management for enterprise teams powered by <a href="http://www.atlassian.com/software/stash/">Atlassian Stash</a></li></ul><ul><li>Atlassian Stash <span title="8f30c2acbc5a34e47130b53517d3316c03c283c3" id="product-version" data-commit-id="8f30c2acbc5a34e47130b53517d3316c03c283c3" data-system-build-number="8f30c2a"> v3.11.1</span></li><li data-key="footer.links.documentation"><a href="http://docs.atlassian.com/stash/docs-0311/Stash+Documentation+Home" target="_blank">Documentation</a></li><li data-key="footer.links.contact.support"><a href="https://support.atlassian.com/secure/SENVerification.jspa?issuetype=1&amp;pid=10740" target="_blank">Contact Support</a></li><li data-key="footer.links.jac"><a href="https://jira.atlassian.com/browse/STASH" target="_blank">Request a feature</a></li><li data-key="footer.links.about"><a href="http://git.bluehornet.com/about">About</a></li><li data-key="footer.links.contact.atlassian"><a href="http://www.atlassian.com/company/contact/" target="_blank">Contact Atlassian</a></li></ul><div id="footer-logo"><a href="http://www.atlassian.com/" target="_blank">Atlassian</a></div></section></footer><!-- End #footer --></div><script>(function(loader) {loader.load('stash.pull-request.diff.toolbar.primary', {});loader.load('stash.pull-request.activity.diff.toolbar.primary', {});loader.load('stash.internal.pull-request.view', {"com.atlassian.stash.stash-web-plugin:iswatching-provider":{"isWatching":true}});loader.load('stash.file-content.diff-view.options', {});loader.load('stash.comments.info', {});loader.load('stash.layout.pullRequest', {"com.atlassian.stash.stash-web-plugin:pull-request-tasks-page-provider":{"resolvedTaskCount":0,"openTaskCount":0},"com.atlassian.stash.stash-bundled-hooks:incomplete-tasks-merge-check-context-provider":{"incompleteTasksMergeCheck":{"enabled":false}},"com.atlassian.stash.stash-bundled-hooks:required-approvers-context-provider":{"requiredApprovers":{"enabled":false}}});loader.load('stash.pull-request.related-entities', {"com.atlassian.stash.stash-jira-integration:pull-request-jira-issues-panel":{"serverCondition":true},"com.atlassian.stash.stash-build-integration:build-status-pr-overview":{"serverCondition":true}});loader.load('stash.pull-request.links', {});loader.load('stash.layout.repository', {"com.atlassian.stash.stash-readme-plugin:readme-provider":{"extensions":["md","markdown","mdown","mkdn","mkd","txt","text",""],"extensionsRaw":["txt","text",""],"name":"README"}});loader.load('internal.stash.comments.extra', {});loader.load('internal.stash.pull-request.merge-dialog.footer.hint', {});loader.load('stash.pull-request.diff.toolbar.secondary', {});loader.load('stash.pull-request.overview.sections', {});loader.load('stash.pull-request.activity.diff.toolbar.secondary', {});loader.load('stash.comments.actions', {});}(_PageDataPlugin));</script><script>require('layout/base').onReady({id : 303, active: true, name : "kickdrum-shikhar", slug : "kickdrum-shikhar", displayName : "Shikhar", avatarUrl : "http:\/\/www.gravatar.com\/avatar\/60e1ed38f862fcb00091cc3a8f5ca70b.jpg?s\x3d48\x26d\x3dmm", emailAddress : "shikhar@kickdrumtech.com", type : "NORMAL"}, "BlueHornet Stash" ); require('widget/keyboard-shortcuts').onReady();</script><script>require('layout/repository').onReady({"slug":"segmentexecutor","id":13,"name":"segmentexecutor","scmId":"git","state":"AVAILABLE","statusMessage":"Available","forkable":true,"project":{"key":"CS","id":21,"name":"Commerce Segment","public":false,"type":"NORMAL","link":{"url":"/projects/CS","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/projects/CS"}]},"avatarUrl":"/projects/CS/avatar.png?s=64&v=1437391865158"},"public":false,"link":{"url":"/projects/CS/repos/segmentexecutor/browse","rel":"self"},"cloneUrl":"http://kickdrum-shikhar@git.bluehornet.com/scm/cs/segmentexecutor.git","links":{"clone":[{"href":"ssh://git@git.bluehornet.com/cs/segmentexecutor.git","name":"ssh"}],"self":[{"href":"http://git.bluehornet.com/projects/CS/repos/segmentexecutor/browse"}]}}, '#clone-repo-button', '#clone-repo-dialog-content');</script><script>require('layout/pull-request').onReady({"id":29,"version":2,"title":"S US-238","description":"* [#US-238] Added task US-249\r\n* [#US-238] Minor fixes","state":"OPEN","open":true,"closed":false,"createdDate":1459507153581,"updatedDate":1459508608089,"fromRef":{"id":"refs/heads/s_US-238","displayId":"s_US-238","latestChangeset":"45000036c2e6f5cbed749e8b2738ef09ff4fb92f","latestCommit":"45000036c2e6f5cbed749e8b2738ef09ff4fb92f","repository":{"slug":"segmentexecutor","id":13,"name":"segmentexecutor","scmId":"git","state":"AVAILABLE","statusMessage":"Available","forkable":true,"project":{"key":"CS","id":21,"name":"Commerce Segment","public":false,"type":"NORMAL","link":{"url":"/projects/CS","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/projects/CS"}]},"avatarUrl":"/projects/CS/avatar.png?s=64&v=1437391865158"},"public":false,"link":{"url":"/projects/CS/repos/segmentexecutor/browse","rel":"self"},"cloneUrl":"http://kickdrum-shikhar@git.bluehornet.com/scm/cs/segmentexecutor.git","links":{"clone":[{"href":"ssh://git@git.bluehornet.com/cs/segmentexecutor.git","name":"ssh"}],"self":[{"href":"http://git.bluehornet.com/projects/CS/repos/segmentexecutor/browse"}]}}},"toRef":{"id":"refs/heads/develop_us","displayId":"develop_us","latestChangeset":"f81a18d511a5a168d892476f7703ed70f6078c47","latestCommit":"f81a18d511a5a168d892476f7703ed70f6078c47","repository":{"slug":"segmentexecutor","id":13,"name":"segmentexecutor","scmId":"git","state":"AVAILABLE","statusMessage":"Available","forkable":true,"project":{"key":"CS","id":21,"name":"Commerce Segment","public":false,"type":"NORMAL","link":{"url":"/projects/CS","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/projects/CS"}]},"avatarUrl":"/projects/CS/avatar.png?s=64&v=1437391865158"},"public":false,"link":{"url":"/projects/CS/repos/segmentexecutor/browse","rel":"self"},"cloneUrl":"http://kickdrum-shikhar@git.bluehornet.com/scm/cs/segmentexecutor.git","links":{"clone":[{"href":"ssh://git@git.bluehornet.com/cs/segmentexecutor.git","name":"ssh"}],"self":[{"href":"http://git.bluehornet.com/projects/CS/repos/segmentexecutor/browse"}]}}},"locked":false,"author":{"user":{"name":"kickdrum-shikhar","emailAddress":"shikhar@kickdrumtech.com","id":303,"displayName":"Shikhar","active":true,"slug":"kickdrum-shikhar","type":"NORMAL","link":{"url":"/users/kickdrum-shikhar","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/users/kickdrum-shikhar"}]},"avatarUrl":"http://www.gravatar.com/avatar/60e1ed38f862fcb00091cc3a8f5ca70b.jpg?s=64&d=mm"},"role":"AUTHOR","approved":false},"reviewers":[{"user":{"name":"kickdrum-arpit","emailAddress":"arpit.jain@kickdrumtech.com","id":27,"displayName":"Arpit Jain","active":true,"slug":"kickdrum-arpit","type":"NORMAL","link":{"url":"/users/kickdrum-arpit","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/users/kickdrum-arpit"}]},"avatarUrl":"/users/kickdrum-arpit/avatar.png?s=64&v=1443018853000"},"role":"REVIEWER","approved":false}],"participants":[],"link":{"url":"/projects/CS/repos/segmentexecutor/pull-requests/29","rel":"self"},"links":{"self":[{"href":"http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29"}]},"descriptionAsHtml":"<ul>\n  <li>[#<a class=\"markup-issues-trigger\" data-issue-keys=\"US-238,US-249\" data-initial-issue-key=\"US-238\" data-single-issue=\"true\" href=\"https://issues.bluehornet.com/browse/US-238\">US-238<\/a>] Added task <a class=\"markup-issues-trigger\" data-issue-keys=\"US-238,US-249\" data-initial-issue-key=\"US-249\" data-single-issue=\"true\" href=\"https://issues.bluehornet.com/browse/US-249\">US-249<\/a><\/li>\n  <li>[#<a class=\"markup-issues-trigger\" data-issue-keys=\"US-238,US-249\" data-initial-issue-key=\"US-238\" data-single-issue=\"true\" href=\"https://issues.bluehornet.com/browse/US-238\">US-238<\/a>] Minor fixes<\/li>\n<\/ul>"}, 'stash.pull-request.nav.overview', '.pull-request-content',[{"url":null,"pluginKey":"com.atlassian.stash.stash-server-web-fragments","moduleKey":"stash.difftree.toggle","linkText":null,"tooltip":"Hide/show file tree","iconUrl":null,"iconWidth":0,"iconHeight":0,"styleClass":"aui-button-subtle collapse-file-tree","linkId":null,"description":null,"weight":10,"params":{"stashIconClass":"aui-icon collapse-file-tree-icon"},"hasTooltip":true,"completeModuleKey":"com.atlassian.stash.stash-server-web-fragments:stash.difftree.toggle","hasIcon":false,"type":"ITEM"}],[{"name":"Commit List JIRA Issue Column","key":"commit-list-jira-issues-col","location":"stash.commits.extras","labelText":"Issues","weight":100,"type":"SECTION"},{"name":"Commit List Build Column","key":"build-status-commit-list-col","location":"stash.commits.extras","labelText":"Builds","weight":200,"type":"SECTION"}],1000,null);</script><div class="aui-popup aui-dialog" id="edit-pull-request-dialog" style="margin-top: -175px; margin-left: -400px; width: 800px; height: 350px; z-index: 3002; display: none;"><div class="dialog-components"><h2 class="dialog-title">Edit Pull Request</h2><ul class="dialog-page-menu" style="height: 243px; display: none;"><li class="page-menu-item selected"><button class="item-button">Edit Pull Request</button></li></ul><div class="dialog-page-body"><div class="dialog-panel-body" style="height: 243px;"></div></div><div class="dialog-button-panel"><div class="spinner"></div><button class="button-panel-button button-panel-submit-button">Save</button><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="button-panel-link button-panel-cancel-link">Cancel</a></div></div></div><section id="pull-request-merge-dialog" aria-labelledby="pull-request-merge-dialog-dialog-title" role="dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true" data-aui-focus="false" data-aui-blanketed="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">Merge Pull Request</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">Close</span></a></header><div class="aui-dialog2-content"><div class="commit-message-container"><div class="committer-avatar"><span class="aui-avatar aui-avatar-medium user-avatar" data-username="kickdrum-shikhar"><span class="aui-avatar-inner"><img src="./Pull Request #29_ S US-238 - BlueHornet Stash_files/60e1ed38f862fcb00091cc3a8f5ca70b(1).jpg" alt="Shikhar"></span></span></div><div class="code-block default-commit-message"><pre><code>Merge pull request #29 in CS/segmentexecutor from s_US-238 to develop_us</code></pre></div><form class="aui prevent-double-submit  commit-message-form collapsed" action="" method="post" accept-charset="UTF-8" autocomplete="off"><div class="expandingText" style="position: relative;"><textarea class="textarea text commit-message full-width-field expanding expanding-init" name="commit-message" id="commit-message" placeholder="Add to the commit message…" style="position: absolute; height: 100%; resize: none;"></textarea><pre class="textareaClone" style="visibility: hidden; border: 1px solid; white-space: pre-wrap; font-family: Arial, sans-serif; word-wrap: break-word; padding: 4px 5px; margin-top: 0px; box-sizing: border-box;"><div> </div></pre></div><button class="aui-button aui-button-link commit-message-action cancel-commit-message-link">Cancel</button></form></div><div class="branch-diagram-spinner"></div></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary confirm-button">Merge</button><button class="aui-button aui-button-link cancel-button">Cancel</button></div><div class="aui-dialog2-footer-hint"><span class="delete-branch-checkbox-wrapper" title="Delete the source branch after the merge completes successfully."><input id="delete-branch-checkbox" class="checkbox" disabled="disabled" type="checkbox" name="delete-branch-checkbox"><label for="delete-branch-checkbox">Delete source branch after merging</label></span></div></footer></section><script>require('page/pull-request/pull-request-view').onReady(false);</script><script type="text/javascript">require('layout/base/menu/recent-repos').initMenu('repositories-menu-trigger');</script><aui-inline-dialog2 id="sidebar-submenu0" alignment="right top" aria-hidden="true" responds-to="hover" class="aui-sidebar-submenu-dialog aui-layer aui-alignment-element aui-alignment-side-right aui-alignment-snap-top" resolved=""><div class="aui-inline-dialog-contents"></div></aui-inline-dialog2><div id="jstree-marker" style="display: none;">»</div><div id="jstree-marker-line" style="display: none;"></div><div id="vakata-contextmenu"></div><div class="aui-popup aui-dialog jira-issues-dialog" id="markup-jira-issues-dialog" style="margin-top: -217px; margin-left: -490px; width: 980px; height: 433px; z-index: 3004; display: none;"><div class="dialog-components"><h2 class="dialog-title">JIRA Issues</h2><ul class="dialog-page-menu" style="height: 326px; display: none;"><li class="page-menu-item selected"><button class="item-button">jira-issues-list</button></li></ul><div class="dialog-page-body"><div class="dialog-panel-body" style="height: 326px; min-height: 387px;"></div></div><div class="dialog-button-panel"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="button-panel-link button-panel-cancel-link">Close</a></div></div></div><div class="aui-popup aui-dialog jira-issues-dialog" id="commits-jira-issues-dialog" style="margin-top: -217px; margin-left: -490px; width: 980px; height: 433px; z-index: 3006; display: none;"><div class="dialog-components"><h2 class="dialog-title">JIRA Issues</h2><ul class="dialog-page-menu" style="height: 326px; display: none;"><li class="page-menu-item selected"><button class="item-button">jira-issues-list</button></li></ul><div class="dialog-page-body"><div class="dialog-panel-body" style="height: 326px; min-height: 387px;"></div></div><div class="dialog-button-panel"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="button-panel-link button-panel-cancel-link">Close</a></div></div></div><div class="aui-popup aui-dialog jira-issues-dialog" id="pull-request-jira-issues-dialog" style="margin-top: -217px; margin-left: -490px; width: 980px; height: 433px; z-index: 3008; display: none;"><div class="dialog-components"><h2 class="dialog-title">JIRA Issues</h2><ul class="dialog-page-menu" style="height: 326px; display: none;"><li class="page-menu-item selected"><button class="item-button">jira-issues-list</button></li></ul><div class="dialog-page-body"><div class="dialog-panel-body" style="height: 326px; min-height: 387px;"></div></div><div class="dialog-button-panel"><a href="http://git.bluehornet.com/projects/CS/repos/segmentexecutor/pull-requests/29/overview#" class="button-panel-link button-panel-cancel-link">Close</a></div></div></div></body></html>